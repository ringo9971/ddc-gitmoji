import { BaseSource, Item } from "https://deno.land/x/ddc_vim@v3.9.1/types.ts";
import {
  assertEquals,
  Denops,
  fn,
} from "https://deno.land/x/ddc_vim@v3.9.1/deps.ts#";

type Gitmoji = {
  emoji: string;
  entity: string;
  code: string;
  description: string;
  name: string;
  semver: string | null;
};

export type CompleteMetadata = {
  name: string;
  gitmoji: string;
  description: string;
};

function getGitmoji(): CompleteMetadata[] {
  const gitmoji = gitmojiJson.gitmojis.map((data: Gitmoji) => ({
    name: data.code,
    gitmoji: data.code,
    description: data.emoji + " " + data.description,
  }));
  return gitmoji;
}

const gitmojiJson = {
  gitmojis: [
    {
      emoji: "ğŸ¨",
      entity: "&#x1f3a8;",
      code: ":art:",
      description: "ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’æ•´ãˆã‚‹",
      name: "art",
      semver: null,
    },
    {
      emoji: "âš¡ï¸",
      entity: "&#x26a1;",
      code: ":zap:",
      description: "æ€§èƒ½ã‚’å‘ä¸Š",
      name: "zap",
      semver: "patch",
    },
    {
      emoji: "ğŸ”¥",
      entity: "&#x1f525;",
      code: ":fire:",
      description: "æ©Ÿèƒ½ã®å‰Šé™¤",
      name: "fire",
      semver: null,
    },
    {
      emoji: "ğŸ›",
      entity: "&#x1f41b;",
      code: ":bug:",
      description: "ãƒã‚°ã‚’ä¿®æ­£",
      name: "bug",
      semver: "patch",
    },
    {
      emoji: "ğŸš‘ï¸",
      entity: "&#128657;",
      code: ":ambulance:",
      description: "ç·Šæ€¥æ€§ã®é«˜ã„ãƒã‚°ã‚’ä¿®æ­£",
      name: "ambulance",
      semver: "patch",
    },
    {
      emoji: "âœ¨",
      entity: "&#x2728;",
      code: ":sparkles:",
      description: "æ–°è¦æ©Ÿèƒ½ã®å®Ÿè£…",
      name: "sparkles",
      semver: "minor",
    },
    {
      emoji: "ğŸ“",
      entity: "&#x1f4dd;",
      code: ":memo:",
      description: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è¿½åŠ ã¾ãŸã¯æ›´æ–°",
      name: "memo",
      semver: null,
    },
    {
      emoji: "ğŸš€",
      entity: "&#x1f680;",
      code: ":rocket:",
      description: "ãƒ‡ãƒ—ãƒ­ã‚¤",
      name: "rocket",
      semver: null,
    },
    {
      emoji: "ğŸ’„",
      entity: "&#ff99cc;",
      code: ":lipstick:",
      description: "UI ã‚„ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆãªã©, è¦‹ãŸç›®ã«é–¢ã™ã‚‹å¤‰æ›´",
      name: "lipstick",
      semver: "patch",
    },
    {
      emoji: "ğŸ‰",
      entity: "&#127881;",
      code: ":tada:",
      description: "æœ€åˆã®ã‚³ãƒŸãƒƒãƒˆ",
      name: "tada",
      semver: null,
    },
    {
      emoji: "âœ…",
      entity: "&#x2705;",
      code: ":white_check_mark:",
      description: "ãƒ†ã‚¹ãƒˆã®è¿½åŠ /æ›´æ–°/åˆæ ¼",
      name: "white-check-mark",
      semver: null,
    },
    {
      emoji: "ğŸ”’ï¸",
      entity: "&#x1f512;",
      code: ":lock:",
      description: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«é–¢ã™ã‚‹å•é¡Œã‚’ä¿®æ­£",
      name: "lock",
      semver: "patch",
    },
    {
      emoji: "ğŸ”",
      entity: "&#x1f510;",
      code: ":closed_lock_with_key:",
      description: "ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚’è¿½åŠ /æ›´æ–°",
      name: "closed-lock-with-key",
      semver: null,
    },
    {
      emoji: "ğŸ”–",
      entity: "&#x1f516;",
      code: ":bookmark:",
      description: "ãƒªãƒªãƒ¼ã‚¹",
      name: "bookmark",
      semver: null,
    },
    {
      emoji: "ğŸš¨",
      entity: "&#x1f6a8;",
      code: ":rotating_light:",
      description: "ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ã‚„ãƒªãƒ³ã‚¿ã®è­¦å‘Šã‚’ä¿®æ­£",
      name: "rotating-light",
      semver: null,
    },
    {
      emoji: "ğŸš§",
      entity: "&#x1f6a7;",
      code: ":construction:",
      description: "ä½œæ¥­é€”ä¸­",
      name: "construction",
      semver: null,
    },
    {
      emoji: "ğŸ’š",
      entity: "&#x1f49a;",
      code: ":green_heart:",
      description: "CI ãƒ“ãƒ«ãƒ‰ã‚’ä¿®æ­£",
      name: "green-heart",
      semver: null,
    },
    {
      emoji: "â¬‡ï¸",
      entity: "â¬‡ï¸",
      code: ":arrow_down:",
      description: "ä¾å­˜é–¢ä¿‚ã‚’ãƒ€ã‚¦ãƒ³ã‚°ãƒ¬ãƒ¼ãƒ‰",
      name: "arrow-down",
      semver: "patch",
    },
    {
      emoji: "â¬†ï¸",
      entity: "â¬†ï¸",
      code: ":arrow_up:",
      description: "ä¾å­˜é–¢ä¿‚ã‚’ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰",
      name: "arrow-up",
      semver: "patch",
    },
    {
      emoji: "ğŸ“Œ",
      entity: "&#x1F4CC;",
      code: ":pushpin:",
      description: "ä¾å­˜é–¢ä¿‚ã‚’ç‰¹å®šã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«å›ºå®š",
      name: "pushpin",
      semver: "patch",
    },
    {
      emoji: "ğŸ‘·",
      entity: "&#x1f477;",
      code: ":construction_worker:",
      description: "CI ãƒ“ãƒ«ãƒ‰ã‚·ã‚¹ãƒ†ãƒ ã‚’è¿½åŠ /æ›´æ–°",
      name: "construction-worker",
      semver: null,
    },
    {
      emoji: "ğŸ“ˆ",
      entity: "&#x1F4C8;",
      code: ":chart_with_upwards_trend:",
      description: "åˆ†æ/è¿½è·¡ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ /æ›´æ–°",
      name: "chart-with-upwards-trend",
      semver: "patch",
    },
    {
      emoji: "â™»ï¸",
      entity: "&#x2672;",
      code: ":recycle:",
      description: "ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°",
      name: "recycle",
      semver: null,
    },
    {
      emoji: "â•",
      entity: "&#10133;",
      code: ":heavy_plus_sign:",
      description: "ä¾å­˜é–¢ä¿‚ã‚’è¿½åŠ ",
      name: "heavy-plus-sign",
      semver: "patch",
    },
    {
      emoji: "â–",
      entity: "&#10134;",
      code: ":heavy_minus_sign:",
      description: "ä¾å­˜é–¢ä¿‚ã‚’å‰Šé™¤",
      name: "heavy-minus-sign",
      semver: "patch",
    },
    {
      emoji: "ğŸ”§",
      entity: "&#x1f527;",
      code: ":wrench:",
      description: "æ§‹æˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ /æ›´æ–°",
      name: "wrench",
      semver: "patch",
    },
    {
      emoji: "ğŸ”¨",
      entity: "&#128296;",
      code: ":hammer:",
      description: "ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ /æ›´æ–°",
      name: "hammer",
      semver: null,
    },
    {
      emoji: "ğŸŒ",
      entity: "&#127760;",
      code: ":globe_with_meridians:",
      description: "ã‚°ãƒ­ãƒ¼ãƒãƒ«åŒ–ã«å¯¾å¿œ",
      name: "globe-with-meridians",
      semver: "patch",
    },
    {
      emoji: "âœï¸",
      entity: "&#59161;",
      code: ":pencil2:",
      description: "ã‚¿ã‚¤ãƒã®ä¿®æ­£",
      name: "pencil2",
      semver: "patch",
    },
    {
      emoji: "ğŸ’©",
      entity: "&#58613;",
      code: ":poop:",
      description: "æ”¹å–„ãŒå¿…è¦ãªæ±šã„ã‚³ãƒ¼ãƒ‰",
      name: "poop",
      semver: null,
    },
    {
      emoji: "âªï¸",
      entity: "&#9194;",
      code: ":rewind:",
      description: "å¤‰æ›´ã‚’å…ƒã«æˆ»ã™",
      name: "rewind",
      semver: "patch",
    },
    {
      emoji: "ğŸ”€",
      entity: "&#128256;",
      code: ":twisted_rightwards_arrows:",
      description: "ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒãƒ¼ã‚¸",
      name: "twisted-rightwards-arrows",
      semver: null,
    },
    {
      emoji: "ğŸ“¦ï¸",
      entity: "&#1F4E6;",
      code: ":package:",
      description: "ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®è¿½åŠ /æ›´æ–°",
      name: "package",
      semver: "patch",
    },
    {
      emoji: "ğŸ‘½ï¸",
      entity: "&#1F47D;",
      code: ":alien:",
      description: "å¤–éƒ¨ã® API ã®å¤‰æ›´ã«ã‚ˆã‚‹å½±éŸ¿ã§ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£",
      name: "alien",
      semver: "patch",
    },
    {
      emoji: "ğŸšš",
      entity: "&#1F69A;",
      code: ":truck:",
      description: "ãƒ•ã‚¡ã‚¤ãƒ«ã‚„åå‰ã®å¤‰æ›´",
      name: "truck",
      semver: null,
    },
    {
      emoji: "ğŸ“„",
      entity: "&#1F4C4;",
      code: ":page_facing_up:",
      description: "ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã®è¿½åŠ /æ›´æ–°",
      name: "page-facing-up",
      semver: null,
    },
    {
      emoji: "ğŸ’¥",
      entity: "&#x1f4a5;",
      code: ":boom:",
      description: "é‡å¤§ãªå¤‰æ›´ã®å°å…¥",
      name: "boom",
      semver: "major",
    },
    {
      emoji: "ğŸ±",
      entity: "&#1F371",
      code: ":bento:",
      description: "ã‚¢ã‚»ãƒƒãƒˆã‚’è¿½åŠ /æ›´æ–°",
      name: "bento",
      semver: "patch",
    },
    {
      emoji: "â™¿ï¸",
      entity: "&#9855;",
      code: ":wheelchair:",
      description: "ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã®å‘ä¸Š",
      name: "wheelchair",
      semver: "patch",
    },
    {
      emoji: "ğŸ’¡",
      entity: "&#128161;",
      code: ":bulb:",
      description: "ã‚³ãƒ¡ãƒ³ãƒˆã‚’è¿½è¨˜",
      name: "bulb",
      semver: null,
    },
    {
      emoji: "ğŸ»",
      entity: "&#x1f37b;",
      code: ":beers:",
      description: "ãŠé…’ã‚’é£²ã¿ãªãŒã‚‰æ›¸ã„ãŸã‚³ãƒ¼ãƒ‰æ±šã„ã‚³ãƒ¼ãƒ‰",
      name: "beers",
      semver: null,
    },
    {
      emoji: "ğŸ’¬",
      entity: "&#128172;",
      code: ":speech_balloon:",
      description: "ãƒ†ã‚­ã‚¹ãƒˆã‚„ãƒªãƒ†ãƒ©ãƒ«ã®è¿½åŠ ã‚„å¤‰æ›´",
      name: "speech-balloon",
      semver: "patch",
    },
    {
      emoji: "ğŸ—ƒï¸",
      entity: "&#128451;",
      code: ":card_file_box:",
      description: "ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹é–¢é€£ã®å¤‰æ›´",
      name: "card-file-box",
      semver: "patch",
    },
    {
      emoji: "ğŸ”Š",
      entity: "&#128266;",
      code: ":loud_sound:",
      description: "ãƒ­ã‚°ã‚’æ›´æ–°",
      name: "loud-sound",
      semver: null,
    },
    {
      emoji: "ğŸ”‡",
      entity: "&#128263;",
      code: ":mute:",
      description: "ãƒ­ã‚°ã‚’å‰Šé™¤",
      name: "mute",
      semver: null,
    },
    {
      emoji: "ğŸ‘¥",
      entity: "&#128101;",
      code: ":busts_in_silhouette:",
      description: "å¯„ç¨¿è€…ã®è¿½åŠ /æ›´æ–°",
      name: "busts-in-silhouette",
      semver: null,
    },
    {
      emoji: "ğŸš¸",
      entity: "&#128696;",
      code: ":children_crossing:",
      description: "UX ã®å‘ä¸Š",
      name: "children-crossing",
      semver: "patch",
    },
    {
      emoji: "ğŸ—ï¸",
      entity: "&#1f3d7;",
      code: ":building_construction:",
      description: "ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’å¤‰æ›´",
      name: "building-construction",
      semver: null,
    },
    {
      emoji: "ğŸ“±",
      entity: "&#128241;",
      code: ":iphone:",
      description: "ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã«å¯¾å¿œ",
      name: "iphone",
      semver: "patch",
    },
    {
      emoji: "ğŸ¤¡",
      entity: "&#129313;",
      code: ":clown_face:",
      description: "ãƒ¢ãƒƒã‚¯é–¢ä¿‚",
      name: "clown-face",
      semver: null,
    },
    {
      emoji: "ğŸ¥š",
      entity: "&#129370;",
      code: ":egg:",
      description: "ã‚¤ãƒ¼ã‚¹ã‚¿ãƒ¼ã‚¨ãƒƒã‚°ã‚’è¿½åŠ /æ›´æ–°",
      name: "egg",
      semver: "patch",
    },
    {
      emoji: "ğŸ™ˆ",
      entity: "&#8bdfe7;",
      code: ":see_no_evil:",
      description: ".gitignore ã‚’å¤‰æ›´",
      name: "see-no-evil",
      semver: null,
    },
    {
      emoji: "ğŸ“¸",
      entity: "&#128248;",
      code: ":camera_with_flash:",
      description: "ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆã‚’æ›´æ–°",
      name: "camera-with-flash",
      semver: null,
    },
    {
      emoji: "âš—ï¸",
      entity: "&#128248;",
      code: ":alembic:",
      description: "å®Ÿé¨“ã‚’è¡Œã†",
      name: "alembic",
      semver: "patch",
    },
    {
      emoji: "ğŸ”ï¸",
      entity: "&#128269;",
      code: ":mag:",
      description: "SEO ã‚’æ”¹å–„",
      name: "mag",
      semver: "patch",
    },
    {
      emoji: "ğŸ·ï¸",
      entity: "&#127991;",
      code: ":label:",
      description: "å‹ã‚’å¤‰æ›´",
      name: "label",
      semver: "patch",
    },
    {
      emoji: "ğŸŒ±",
      entity: "&#127793;",
      code: ":seedling:",
      description: "ã‚·ãƒ¼ãƒ‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å¤‰æ›´",
      name: "seedling",
      semver: null,
    },
    {
      emoji: "ğŸš©",
      entity: "&#x1F6A9;",
      code: ":triangular_flag_on_post:",
      description: "ãƒ•ã‚£ãƒ¼ãƒãƒ£ãƒ¼ãƒ•ãƒ©ã‚°ã«é–¢ã™ã‚‹å¤‰æ›´",
      name: "triangular-flag-on-post",
      semver: "patch",
    },
    {
      emoji: "ğŸ¥…",
      entity: "&#x1F945;",
      code: ":goal_net:",
      description: "ã‚¨ãƒ©ãƒ¼ã‚’ã‚­ãƒ£ãƒƒãƒ",
      name: "goal-net",
      semver: "patch",
    },
    {
      emoji: "ğŸ’«",
      entity: "&#x1f4ab;",
      code: ":dizzy:",
      description: "ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ /æ›´æ–°",
      name: "animation",
      semver: "patch",
    },
    {
      emoji: "ğŸ—‘ï¸",
      entity: "&#x1F5D1;",
      code: ":wastebasket:",
      description: "å¾Œã»ã©ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ã™ã‚‹å¿…è¦ãŒã‚ã‚‹",
      name: "wastebasket",
      semver: "patch",
    },
    {
      emoji: "ğŸ›‚",
      entity: "&#x1F6C2;",
      code: ":passport_control:",
      description: "èªå¯/ãƒ­ãƒ¼ãƒ«/æ¨©é™ã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰",
      name: "passport-control",
      semver: "patch",
    },
    {
      emoji: "ğŸ©¹",
      entity: "&#x1FA79;",
      code: ":adhesive_bandage:",
      description: "ã¡ã‚‡ã£ã¨ã—ãŸä¿®æ­£",
      name: "adhesive-bandage",
      semver: "patch",
    },
    {
      emoji: "ğŸ§",
      entity: "&#x1F9D0;",
      code: ":monocle_face:",
      description: "ãƒ‡ãƒ¼ã‚¿ã®èª¿æŸ»ã‚„æ¤œæŸ»",
      name: "monocle-face",
      semver: null,
    },
    {
      emoji: "âš°ï¸",
      entity: "&#x26B0;",
      code: ":coffin:",
      description: "ãƒ‡ãƒƒãƒ‰ã‚³ãƒ¼ãƒ‰ã‚’å‰Šé™¤",
      name: "coffin",
      semver: null,
    },
    {
      emoji: "ğŸ§ª",
      entity: "&#x1F9EA;",
      code: ":test_tube:",
      description: "å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆã‚’è¿½åŠ ",
      name: "test-tube",
      semver: null,
    },
    {
      emoji: "ğŸ‘”",
      entity: "&#128084;",
      code: ":necktie:",
      description: "ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã‚’è¿½åŠ /æ›´æ–°",
      name: "necktie",
      semver: "patch",
    },
    {
      emoji: "ğŸ©º",
      entity: "&#x1FA7A;",
      code: ":stethoscope:",
      description: "ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚’è¿½åŠ /æ›´æ–°",
      name: "stethoscope",
      semver: null,
    },
    {
      emoji: "ğŸ§±",
      entity: "&#x1f9f1;",
      code: ":bricks:",
      description: "ã‚¤ãƒ³ãƒ•ãƒ©ã«é–¢ã™ã‚‹å¤‰æ›´",
      name: "bricks",
      semver: null,
    },
    {
      emoji: "ğŸ§‘â€ğŸ’»",
      entity: "&#129489;&#8205;&#128187;",
      code: ":technologist:",
      description: "é–‹ç™ºè€…ã®ã‚¨ã‚¯ã‚¹ãƒšãƒªã‚¨ãƒ³ã‚¹ã‚’å‘ä¸Š",
      name: "technologist",
      semver: null,
    },
    {
      emoji: "ğŸ’¸",
      entity: "&#128184;",
      code: ":money_with_wings:",
      description: "ã‚¹ãƒãƒ³ã‚µãƒ¼ã‚„ãŠé‡‘é–¢é€£",
      name: "money_with_wings",
      semver: null,
    },
    {
      emoji: "ğŸ§µ",
      entity: "&#129525;",
      code: ":thread:",
      description: "ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰ã«é–¢é€£ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®è¿½åŠ /æ›´æ–°",
      name: "thread",
      semver: null,
    },
    {
      emoji: "ğŸ¦º",
      entity: "&#129466;",
      code: ":safety_vest:",
      description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®è¿½åŠ /æ›´æ–°",
      name: "safety_vest",
      semver: null,
    },
  ],
};

export class Source extends BaseSource<Record<string, never>> {
  async gather(): Promise<Item[]> {
    const candidates = getGitmoji();
    const ddcCandidates: Item[] = candidates.flatMap((data) => ({
      word: data.gitmoji,
      abbr: data.name,
      kind: data.description,
      user_data: {
        name: data.name,
        gitmoji: data.gitmoji,
        description: data.description,
      },
    }));

    return ddcCandidates;
  }

  params() {
    return {};
  }
}
